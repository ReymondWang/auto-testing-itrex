from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.common.exceptions import TimeoutException driver = webdriver.Chrome() driver.get("http://localhost:8080/") try: # 等 待 页 面 加 载 完 成 WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "login-btn"))) # 点 击 登 录 按 钮 driver.find_element(By.ID, "login-btn").click() # 等 待 页 面 加 载 完 成 WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "username"))) # 输 入 用 户 名 和 密 码 driver.find_element(By.ID, "username").send_keys("admin") driver.find_element(By.ID, "password").send_keys("admin") # 点 击 登 录 按 钮 driver.find_element(By.ID, "login-btn").click() # 等 待 页 面 加 载 完 成 WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "menu-btn"))) # 点 击 菜 单 按 钮 driver.find_element(By.ID, "menu-btn").click() # 等 待 页 面 加 载 完 成 WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "add-menu"))) # 点 击 添 加 菜 单 按 钮 driver.find_element(By.ID, "add-menu").click() # 填 写 菜 单 信 息 driver.find_element(By.ID, "txtCode").send_keys("1001") driver.find_element(By.ID, "txtName").send_keys("用 户 桌 面 ") driver.find_element(By.ID, "txtUrl").send_keys("http://localhost:8080/user/desktop.html") driver.find_element(By.ID, "txtIcon").send_keys("user_desktop.png") driver.find_element(By.ID, "txtOrder").send_keys("1") driver.find_element(By.ID, "txtParentId").send_keys("0") # 点 击 保 存 按 钮 driver.find_element(By.ID, "btnSave").click() # 等 待 页 面 加 载 完 成 WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "menu-list"))) # 验 证 添 加 的 菜 单 是 否 显 示 在 列 表 中 assert "用 户 桌 面 " in driver.find_element(By.ID, "menu-list").text # 点 击 菜 单 列 表 中 的 菜 单 driver.find_element(By.ID, "menu-list").find_element(By.LINK_TEXT, "用 户 桌 面 ").click() # 等 待 页 面 加 载 完 成 WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "user-desktop"))) # 验 证 跳 转 到 的 页 面 是 否 正 确 assert "用 户 桌 面 " in driver.find_element(By.ID, "user-desktop").text # 点 击 返 回 按 钮 driver.find_element(By.ID, "back-btn").click() # 等 待 页 面 加 载 完 成 WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "menu-list"))) # 点 击 添 加 菜 单 按 钮 driver.find_element(By.ID, "add-menu").click()